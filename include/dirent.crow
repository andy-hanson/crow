no-std
import
	crow/bytes-types: bytes256
	crow/number: int32, nat16
	crow/pointer: mut-pointer
	crow/string: char8, c-string
	sys/types: ino_t, off_t

dir extern-pointer

dirent record mut by-ref extern
	d_ino mut ino_t
	d_off mut off_t
	d_reclen mut nat16
	d_type mut char8
	# TODO: d_name char8[256]
	d_name mut bytes256

opendir dir(name c-string) extern<c> summon
readdir_r int32(dirp dir, entry dirent, result dirent mut*) extern<c> summon
