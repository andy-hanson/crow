no-std
import
	./compare: equal
	./misc: void
	# TODO: import from .result instead
	./private/bootstrap: value
	./private/exception-low-level: assert, catch, message, throw
	./str: ==, str

is void(a ?a, b ?a) equal<?a>
	assert: a == b

throws void(f act ?a(), message str)
	match f catch
	as ok
		throw: "Expected to throw an exception"
	as err e
		e.value.message is message
