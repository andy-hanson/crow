###
Functions for generating cryptographically random numbers.
###

import
	system/sodium: randombytes_random
	../bits: bits-cat
	../version: is-windows
	./private/sodium: ensure-sodium-initialized

+random nat32() summon
	forbid trusted is-windows : todo
	ensure-sodium-initialized
	trusted randombytes_random

+random bool() summon
	random::nat32 % 2 == 0

+random nat64() summon
	random bits-cat random
