import
	math: M_PI, M_PI_2, M_PI_4
	tgmath

dummy-tgmath-tests nat()
	0

test
	4.sqrt is 2
	assert -1.sqrt is-nan

	4.1.round is 4
	4.5.round is 5
	5.5.round is 6

	-1.acos is-about M_PI
	0.acos is-about M_PI_2
	1.acos is 0

	-1.asin is-about -M_PI_2
	0.asin is 0
	1.asin is-about M_PI_2

	-1.atan is-about -M_PI_4
	0.atan is 0
	1.atan is-about M_PI_4

	0.cos is 1
	M_PI_4.cos is-about 2.sqrt/2
	# TODO: compiler needs to parse '-0' as a different float than 0
	M_PI_2.cos is-about -0
	M_PI.cos is -1

	0.sin is 0
	M_PI_4.sin is-about 2.sqrt/2
	M_PI_2.sin is 1
	M_PI.sin is-about -0

	0.tan is 0
	M_PI_4.tan is-about 1
	assert M_PI_2.tan < -286411383293069
	(3 * M_PI_4).tan is-about -1
	M_PI.tan is-about 0

	1 atan2 1 is-about M_PI_4
	1 atan2 0 is-about M_PI_2
	0 atan2 -1 is-about M_PI

	0.cosh is 1
	1.cosh is-about 1.543
	1.acosh is 0
	1.543.acosh is-about 1

	0.sinh is 0
	0.asinh is 0
	1.sinh is-about 1.175
	1.175.asinh is-about 1

	0.tanh is 0
	0.atanh is 0
	1.tanh is-about 0.761
	0.761.atanh is-about 0.998


# TODO: these tests should use exact answers, but the compiler needs better float parsing
is-about void(a float64, b float64)
	diff = a - b
	unless diff.abs < 0.0006
		throw "Expected {a} is-about {b}"
