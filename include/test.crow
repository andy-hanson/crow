no-std
import
	.compare: ==
	.exception: assert, catch, message, throw
	.misc: data, void
	# TODO: import from .result instead
	.private.bootstrap: value
	.str: str

is void(a ?a, b ?a) data<?a>
	assert: a == b

throws void(f act ?a(), message str)
	match f catch
	as ok
		throw: "Expected to throw an exception"
	as err e
		e.value.message is message
