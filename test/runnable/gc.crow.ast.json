{"_type":"file-ast","imports":{"_type":"ports","args":[{"_type":"range","args":[0,205]},[{"_type":"port","args":["crow/io/print",{"_type":"named","args":[["print"]]}]},{"_type":"port","args":["crow/private/alloc",{"_type":"named","args":[["cur-word","gc-count","gc-stats","get-gc","get-stats","force-needs-gc","set-hard-limit","words-free","words-used"]]}]},{"_type":"port","args":["crow/ptr",{"_type":"named","args":[["-","as-any-const-ptr","by-val","size-of"]]}]}]]},"specs":[],"aliases":[],"structs":[{"_type":"struct-decl","range":{"_type":"range","args":[714,745]},"visibility":"public","body":{"_type":"record","args":[[{"_type":"field","args":[{"_type":"range","args":[724,729]},"const","a",{"_type":"inststruct","args":[{"_type":"range","args":[726,729]},{"_type":"name-range","args":[726,"nat"]}]}]},{"_type":"field","args":[{"_type":"range","args":[731,736]},"const","b",{"_type":"inststruct","args":[{"_type":"range","args":[733,736]},{"_type":"name-range","args":[733,"nat"]}]}]},{"_type":"field","args":[{"_type":"range","args":[738,743]},"const","c",{"_type":"inststruct","args":[{"_type":"range","args":[740,743]},{"_type":"name-range","args":[740,"nat"]}]}]}]]}}],"funs":[{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[205,714]},"name":"main","return":{"_type":"inststruct","args":[{"_type":"range","args":[210,217]},{"_type":"name-range","args":[210,"fut"]},[{"_type":"inststruct","args":[{"_type":"range","args":[214,217]},{"_type":"name-range","args":[214,"nat"]}]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[218,225]},{"_type":"none"},{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[220,223]},{"_type":"name-range","args":[220,"str"]}]},"arr"]}]}],"summon":true,"unsafe":true,"body":{"_type":"let","args":["gc","get-gc",{"_type":"seq-ast","args":[{"_type":"call","args":["set-dot",{"_type":"name-range","args":[285,"set-hard-limit"]},[],["gc",{"_type":"literal","args":[{"_type":"nat","args":[65536,false]}]}]]},{"_type":"let","args":["a",{"_type":"call","args":["comma",{"_type":"name-range","args":[351,"new"]},[],[{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[2,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[3,false]}]}]]},{"_type":"let","args":["b",{"_type":"call","args":["comma",{"_type":"name-range","args":[366,"new"]},[],[{"_type":"literal","args":[{"_type":"nat","args":[4,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[5,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[6,false]}]}]]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"assert","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[402,"=="]},[],[{"_type":"call","args":["single",{"_type":"name-range","args":[382,"size-of"]},[{"_type":"inststruct","args":[{"_type":"range","args":[391,400]},{"_type":"name-range","args":[391,"by-val"]},[{"_type":"inststruct","args":[{"_type":"range","args":[398,399]},{"_type":"name-range","args":[398,"r"]}]}]]}],[]]},{"_type":"literal","args":[{"_type":"nat","args":[24,false]}]}]]},{"_type":"none"}]},{"_type":"assert","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[456,"=="]},[],[{"_type":"call","args":["infix",{"_type":"name-range","args":[435,"-"]},[],[{"_type":"call","args":["dot",{"_type":"name-range","args":[418,"as-any-const-ptr"]},[],["b"]]},{"_type":"call","args":["dot",{"_type":"name-range","args":[439,"as-any-const-ptr"]},[],["a"]]}]]},{"_type":"literal","args":[{"_type":"nat","args":[24,false]}]}]]},{"_type":"none"}]}]},{"_type":"call","args":["prefix",{"_type":"name-range","args":[464,"print"]},[],[{"_type":"interpolated","args":[["stats: ",{"_type":"call","args":["infix",{"_type":"name-range","args":[483,"get-stats"]},[],["gc"]]}]]}]]}]},{"_type":"call","args":["prefix",{"_type":"name-range","args":[496,"print"]},[],[{"_type":"interpolated","args":[["a: ","a"]]}]]}]},{"_type":"call","args":["prefix",{"_type":"name-range","args":[513,"print"]},[],[{"_type":"interpolated","args":[["stats (after print): ",{"_type":"call","args":["infix",{"_type":"name-range","args":[546,"get-stats"]},[],["gc"]]}]]}]]}]},{"_type":"call","args":["infix",{"_type":"name-range","args":[563,"force-needs-gc"]},[],["gc"]]}]},{"_type":"then-void","args":["delay",{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["prefix",{"_type":"name-range","args":[590,"print"]},[],[{"_type":"literal","args":["-- after gc --"]}]]},{"_type":"call","args":["prefix",{"_type":"name-range","args":[615,"print"]},[],[{"_type":"interpolated","args":[["stats: ",{"_type":"call","args":["infix",{"_type":"name-range","args":[634,"get-stats"]},[],["gc"]]}]]}]]}]},{"_type":"call","args":["prefix",{"_type":"name-range","args":[647,"print"]},[],[{"_type":"interpolated","args":[["a: ","a"]]}]]}]},{"_type":"call","args":["prefix",{"_type":"name-range","args":[664,"print"]},[],[{"_type":"interpolated","args":[["stats (after print): ",{"_type":"call","args":["infix",{"_type":"name-range","args":[697,"get-stats"]},[],["gc"]]}]]}]]}]},{"_type":"call","args":["empty-parens",{"_type":"name-range","args":[710,"new"]},[],[]]}]}]}]}]}]}]}]}},{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[745,791]},"name":"to-str","return":{"_type":"inststruct","args":[{"_type":"range","args":[752,755]},{"_type":"name-range","args":[752,"str"]}]},"params":[{"_type":"param","args":[{"_type":"range","args":[756,759]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[758,759]},{"_type":"name-range","args":[758,"r"]}]}]}],"body":{"_type":"interpolated","args":[["a=",{"_type":"call","args":["infix",{"_type":"name-range","args":[768,"a"]},[],["a"]]},", b=",{"_type":"call","args":["infix",{"_type":"name-range","args":[777,"b"]},[],["a"]]},", c=",{"_type":"call","args":["infix",{"_type":"name-range","args":[786,"c"]},[],["a"]]}]]}},{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[791,923]},"name":"to-str","return":{"_type":"inststruct","args":[{"_type":"range","args":[798,801]},{"_type":"name-range","args":[798,"str"]}]},"params":[{"_type":"param","args":[{"_type":"range","args":[802,812]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[804,812]},{"_type":"name-range","args":[804,"gc-stats"]}]}]}],"summon":true,"body":{"_type":"interpolated","args":[["gc-count=",{"_type":"call","args":["infix",{"_type":"name-range","args":[835,"gc-count"]},[],["a"]]},", cur-word=",{"_type":"call","args":["infix",{"_type":"name-range","args":[858,"cur-word"]},[],["a"]]},", words-used=",{"_type":"call","args":["infix",{"_type":"name-range","args":[883,"words-used"]},[],["a"]]},", words-free=",{"_type":"call","args":["infix",{"_type":"name-range","args":[910,"words-free"]},[],["a"]]}]]}}]}