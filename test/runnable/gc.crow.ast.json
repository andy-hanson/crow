{"_type":"file-ast","imports":{"_type":"ports","args":[{"_type":"range","args":[0,210]},[{"_type":"port","args":["crow/io/print",{"_type":"named","args":[["out","print"]]}]},{"_type":"port","args":["crow/private/alloc",{"_type":"named","args":[["cur-word","gc-count","gc-stats","get-gc","get-stats","force-needs-gc","set-hard-limit","words-free","words-used"]]}]},{"_type":"port","args":["crow/ptr",{"_type":"named","args":[["-","as-any-const-ptr","by-val","size-of"]]}]}]]},"specs":[],"aliases":[],"structs":[{"_type":"struct-decl","range":{"_type":"range","args":[742,773]},"visibility":"public","body":{"_type":"record","args":[[{"_type":"field","args":[{"_type":"range","args":[752,757]},"const","a",{"_type":"inststruct","args":[{"_type":"range","args":[754,757]},{"_type":"name-range","args":[754,"nat"]}]}]},{"_type":"field","args":[{"_type":"range","args":[759,764]},"const","b",{"_type":"inststruct","args":[{"_type":"range","args":[761,764]},{"_type":"name-range","args":[761,"nat"]}]}]},{"_type":"field","args":[{"_type":"range","args":[766,771]},"const","c",{"_type":"inststruct","args":[{"_type":"range","args":[768,771]},{"_type":"name-range","args":[768,"nat"]}]}]}]]}}],"funs":[{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[210,742]},"name":"main","return":{"_type":"inststruct","args":[{"_type":"range","args":[215,222]},{"_type":"name-range","args":[215,"fut"]},[{"_type":"inststruct","args":[{"_type":"range","args":[219,222]},{"_type":"name-range","args":[219,"nat"]}]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[223,232]},{"_type":"none"},{"_type":"inststruct","args":[{"_type":"range","args":[225,232]},{"_type":"name-range","args":[225,"arr"]},[{"_type":"inststruct","args":[{"_type":"range","args":[229,232]},{"_type":"name-range","args":[229,"str"]}]}]]}]}],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[234,"summon"]},[]]},{"_type":"modifier","args":[{"_type":"name-range","args":[241,"unsafe"]},[]]}],"body":{"_type":"let","args":["gc","get-gc",{"_type":"seq-ast","args":[{"_type":"call","args":["set-dot",{"_type":"name-range","args":[292,"set-hard-limit"]},[],["gc",{"_type":"literal","args":[{"_type":"nat","args":[65536,false]}]}]]},{"_type":"let","args":["a",{"_type":"call","args":["comma",{"_type":"name-range","args":[358,"new"]},[],[{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[2,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[3,false]}]}]]},{"_type":"let","args":["b",{"_type":"call","args":["comma",{"_type":"name-range","args":[373,"new"]},[],[{"_type":"literal","args":[{"_type":"nat","args":[4,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[5,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[6,false]}]}]]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"assert","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[409,"=="]},[],[{"_type":"call","args":["single",{"_type":"name-range","args":[389,"size-of"]},[{"_type":"inststruct","args":[{"_type":"range","args":[398,407]},{"_type":"name-range","args":[398,"by-val"]},[{"_type":"inststruct","args":[{"_type":"range","args":[405,406]},{"_type":"name-range","args":[405,"r"]}]}]]}],[]]},{"_type":"literal","args":[{"_type":"nat","args":[24,false]}]}]]},{"_type":"none"}]},{"_type":"assert","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[463,"=="]},[],[{"_type":"call","args":["infix",{"_type":"name-range","args":[442,"-"]},[],[{"_type":"call","args":["dot",{"_type":"name-range","args":[425,"as-any-const-ptr"]},[],["b"]]},{"_type":"call","args":["dot",{"_type":"name-range","args":[446,"as-any-const-ptr"]},[],["a"]]}]]},{"_type":"literal","args":[{"_type":"nat","args":[24,false]}]}]]},{"_type":"none"}]}]},{"_type":"call","args":["infix",{"_type":"name-range","args":[475,"print"]},[],["out",{"_type":"interpolated","args":[["stats: ",{"_type":"call","args":["infix",{"_type":"name-range","args":[493,"get-stats"]},[],["gc"]]}]]}]]}]},{"_type":"call","args":["infix",{"_type":"name-range","args":[510,"print"]},[],["out",{"_type":"interpolated","args":[["a: ","a"]]}]]}]},{"_type":"call","args":["infix",{"_type":"name-range","args":[530,"print"]},[],["out",{"_type":"interpolated","args":[["stats (after print): ",{"_type":"call","args":["infix",{"_type":"name-range","args":[562,"get-stats"]},[],["gc"]]}]]}]]}]},{"_type":"call","args":["infix",{"_type":"name-range","args":[579,"force-needs-gc"]},[],["gc"]]}]},{"_type":"then-void","args":["delay",{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[610,"print"]},[],["out",{"_type":"literal","args":["-- after gc --"]}]]},{"_type":"call","args":["infix",{"_type":"name-range","args":[638,"print"]},[],["out",{"_type":"interpolated","args":[["stats: ",{"_type":"call","args":["infix",{"_type":"name-range","args":[656,"get-stats"]},[],["gc"]]}]]}]]}]},{"_type":"call","args":["infix",{"_type":"name-range","args":[673,"print"]},[],["out",{"_type":"interpolated","args":[["a: ","a"]]}]]}]},{"_type":"call","args":["infix",{"_type":"name-range","args":[693,"print"]},[],["out",{"_type":"interpolated","args":[["stats (after print): ",{"_type":"call","args":["infix",{"_type":"name-range","args":[725,"get-stats"]},[],["gc"]]}]]}]]}]},{"_type":"call","args":["empty-parens",{"_type":"name-range","args":[738,"new"]},[],[]]}]}]}]}]}]}]}]}},{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[773,819]},"name":"to-str","return":{"_type":"inststruct","args":[{"_type":"range","args":[780,783]},{"_type":"name-range","args":[780,"str"]}]},"params":[{"_type":"param","args":[{"_type":"range","args":[784,787]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[786,787]},{"_type":"name-range","args":[786,"r"]}]}]}],"body":{"_type":"interpolated","args":[["a=",{"_type":"call","args":["infix",{"_type":"name-range","args":[796,"a"]},[],["a"]]},", b=",{"_type":"call","args":["infix",{"_type":"name-range","args":[805,"b"]},[],["a"]]},", c=",{"_type":"call","args":["infix",{"_type":"name-range","args":[814,"c"]},[],["a"]]}]]}},{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[819,951]},"name":"to-str","return":{"_type":"inststruct","args":[{"_type":"range","args":[826,829]},{"_type":"name-range","args":[826,"str"]}]},"params":[{"_type":"param","args":[{"_type":"range","args":[830,840]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[832,840]},{"_type":"name-range","args":[832,"gc-stats"]}]}]}],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[842,"summon"]},[]]}],"body":{"_type":"interpolated","args":[["gc-count=",{"_type":"call","args":["infix",{"_type":"name-range","args":[863,"gc-count"]},[],["a"]]},", cur-word=",{"_type":"call","args":["infix",{"_type":"name-range","args":[886,"cur-word"]},[],["a"]]},", words-used=",{"_type":"call","args":["infix",{"_type":"name-range","args":[911,"words-used"]},[],["a"]]},", words-free=",{"_type":"call","args":["infix",{"_type":"name-range","args":[938,"words-free"]},[],["a"]]}]]}}]}