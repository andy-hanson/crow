import
	bootstrap: as, drop, fut, str
	logging: get-log-handler, info, log, log-handler, warn, with-log-handler

main fut nat(_ arr str) summon
	info log "Logged once"
	lh = get-log-handler
	doubler = as<log-handler>: \logged
		lh[logged]
		lh[logged]
	doubler with-log-handler \
		warn log "Logged twice"
	{it drop} with-log-handler \
		warn log "Logged never"
	0 resolved
