{"_type":"file-ast","imports":{"_type":"ports","args":[{"_type":"range","args":[0,83]},[{"_type":"port","args":["crow/log",{"_type":"named","args":[["get-log-handler","info","log","log-handler","warn","with-log-handler"]]}]}]]},"specs":[],"aliases":[],"structs":[],"funs":[{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[83,341]},"name":"main","return":{"_type":"inststruct","args":[{"_type":"range","args":[88,95]},{"_type":"name-range","args":[88,"fut"]},[{"_type":"inststruct","args":[{"_type":"range","args":[92,95]},{"_type":"name-range","args":[92,"nat"]}]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[96,105]},{"_type":"none"},{"_type":"inststruct","args":[{"_type":"range","args":[98,105]},{"_type":"name-range","args":[98,"arr"]},[{"_type":"inststruct","args":[{"_type":"range","args":[102,105]},{"_type":"name-range","args":[102,"str"]}]}]]}]}],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[107,"summon"]},[]]}],"body":{"_type":"seq-ast","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[120,"log"]},[],["info",{"_type":"literal","args":["Logged once"]}]]},{"_type":"let","args":["lh","get-log-handler",{"_type":"let","args":["doubler",{"_type":"lambda","args":[[{"_type":"param","args":[183,"logged"]}],{"_type":"seq-ast","args":[{"_type":"call","args":["subscript",{"_type":"name-range","args":[197,"subscript"]},[],["lh","logged"]]},{"_type":"call","args":["subscript",{"_type":"name-range","args":[210,"subscript"]},[],["lh","logged"]]}]}]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[228,"with-log-handler"]},[],["doubler",{"_type":"lambda","args":[[],{"_type":"call","args":["infix",{"_type":"name-range","args":[258,"log"]},[],["warn",{"_type":"literal","args":["Logged twice"]}]]}]}]]},{"_type":"call","args":["infix",{"_type":"name-range","args":[288,"with-log-handler"]},[],[{"_type":"paren","args":[{"_type":"lambda","args":[[{"_type":"param","args":[279,"_"]}],{"_type":"call","args":["empty-parens",{"_type":"name-range","args":[284,"new"]},[],[]]}]}]},{"_type":"lambda","args":[[],{"_type":"call","args":["infix",{"_type":"name-range","args":[318,"log"]},[],["warn",{"_type":"literal","args":["Logged never"]}]]}]}]]}]},{"_type":"call","args":["empty-parens",{"_type":"name-range","args":[338,"new"]},[],[]]}]}]}]}]}}]}