{"_type":"file-ast","imports":{"_type":"ports","args":[{"_type":"range","args":[0,41]},[{"_type":"port","args":["crow/ptr",{"_type":"named","args":[["*","mut-ptr","set-deref"]]}]}]]},"specs":[],"aliases":[],"structs":[{"_type":"struct-decl","range":{"_type":"range","args":[220,262]},"visibility":"private","type-params":[{"_type":"name-range","args":[236,"a"]}],"body":{"_type":"record","args":[[{"_type":"field","args":[{"_type":"range","args":[247,261]},"const","inner",{"_type":"inststruct","args":[{"_type":"range","args":[254,261]},{"_type":"name-range","args":[254,"range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[260,261]},{"_type":"name-range","args":[260,"a"]}]}]]}]}]]}}],"funs":[{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[41,189]},"name":"main","return":{"_type":"inststruct","args":[{"_type":"range","args":[46,53]},{"_type":"name-range","args":[46,"fut"]},[{"_type":"inststruct","args":[{"_type":"range","args":[50,53]},{"_type":"name-range","args":[50,"nat"]}]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[54,61]},{"_type":"none"},{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[56,59]},{"_type":"name-range","args":[56,"str"]}]},"arr"]}]}],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[63,"summon"]},[]]},{"_type":"modifier","args":[{"_type":"name-range","args":[70,"unsafe"]},[]]}],"body":{"_type":"then-ast","args":[{"_type":"param","args":[78,"results"]},{"_type":"for","args":[{"_type":"param","args":[93,"x"]},{"_type":"call","args":["infix",{"_type":"name-range","args":[106,"parallel"]},[],[{"_type":"call","args":["infix",{"_type":"name-range","args":[99,".."]},[],[{"_type":"literal","args":[{"_type":"nat","args":[0,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[100,false]}]}]]}]]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["set-deref",{"_type":"name-range","args":[117,"set-deref"]},[],["foo","x"]]},{"_type":"call","args":["set-deref",{"_type":"name-range","args":[129,"set-deref"]},[],["foo",{"_type":"call","args":["infix",{"_type":"name-range","args":[142,"+"]},[],[{"_type":"call","args":["prefix-op",{"_type":"name-range","args":[137,"*"]},[],["foo"]]},{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]}]]}]]}]},{"_type":"call","args":["comma",{"_type":"name-range","args":[148,"new"]},[],[{"_type":"call","args":["prefix-op",{"_type":"name-range","args":[148,"*"]},[],["foo"]]}]]}]}]},{"_type":"seq-ast","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[163,"is"]},[],["results",{"_type":"call","args":["dot",{"_type":"name-range","args":[177,"to-arr"]},[],[{"_type":"paren","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[169,".."]},[],[{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[101,false]}]}]]}]}]]}]]},{"_type":"call","args":["empty-parens",{"_type":"name-range","args":[185,"new"]},[],[]]}]}]}},{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[189,220]},"name":"foo","return":{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[193,199]},{"_type":"name-range","args":[193,"nat64"]}]},"mut-ptr"]},"params":[],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[206,"thread-local"]},[]]}]},{"_type":"fun-decl","visibility":"private","range":{"_type":"range","args":[262,307]},"name":"parallel","type-params":[{"_type":"name-range","args":[272,"a"]}],"return":{"_type":"inststruct","args":[{"_type":"range","args":[275,291]},{"_type":"name-range","args":[275,"parallel-range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[290,291]},{"_type":"name-range","args":[290,"a"]}]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[292,301]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[294,301]},{"_type":"name-range","args":[294,"range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[300,301]},{"_type":"name-range","args":[300,"a"]}]}]]}]}],"body":{"_type":"call","args":["comma",{"_type":"name-range","args":[304,"new"]},[],["a"]]}},{"_type":"fun-decl","visibility":"private","range":{"_type":"range","args":[307,454]},"name":"for-loop","return":{"_type":"inststruct","args":[{"_type":"range","args":[317,328]},{"_type":"name-range","args":[317,"fut"]},[{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[321,326]},{"_type":"name-range","args":[321,"nat64"]}]},"arr"]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[329,351]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[331,351]},{"_type":"name-range","args":[331,"parallel-range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[346,351]},{"_type":"name-range","args":[346,"nat64"]}]}]]}]},{"_type":"param","args":[{"_type":"range","args":[353,375]},{"_type":"some","value":"f"},{"_type":"fun","args":[{"_type":"range","args":[355,375]},"fun",[{"_type":"inststruct","args":[{"_type":"range","args":[359,368]},{"_type":"name-range","args":[359,"fut"]},[{"_type":"inststruct","args":[{"_type":"range","args":[363,368]},{"_type":"name-range","args":[363,"nat64"]}]}]]},{"_type":"inststruct","args":[{"_type":"range","args":[369,374]},{"_type":"name-range","args":[369,"nat64"]}]}]]}]}],"body":{"_type":"let","args":["tasks",{"_type":"for","args":[{"_type":"param","args":[403,"x"]},{"_type":"call","args":["dot",{"_type":"name-range","args":[409,"inner"]},[],["a"]]},{"_type":"call","args":["infix",{"_type":"name-range","args":[424,"do"]},[],["launch",{"_type":"lambda","args":[[],{"_type":"call","args":["subscript",{"_type":"name-range","args":[434,"subscript"]},[],["f","x"]]}]}]]}]},{"_type":"call","args":["infix",{"_type":"name-range","args":[445,"wait-all"]},[],["tasks"]]}]}}]}