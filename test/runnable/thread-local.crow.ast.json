{"_type":"file-ast","imports":{"_type":"ports","args":[{"_type":"range","args":[0,68]},[{"_type":"port","args":["crow/io/print",{"_type":"named","args":[["out","print"]]}]},{"_type":"port","args":["crow/ptr",{"_type":"named","args":[["*","mut-ptr","set-deref"]]}]}]]},"specs":[],"aliases":[],"structs":[{"_type":"struct-decl","range":{"_type":"range","args":[279,321]},"visibility":"private","type-params":[{"_type":"name-range","args":[295,"a"]}],"body":{"_type":"record","args":[[{"_type":"field","args":[{"_type":"range","args":[306,320]},"const","inner",{"_type":"inststruct","args":[{"_type":"range","args":[313,320]},{"_type":"name-range","args":[313,"range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[319,320]},{"_type":"name-range","args":[319,"a"]}]}]]}]}]]}}],"funs":[{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[68,248]},"name":"main","return":{"_type":"inststruct","args":[{"_type":"range","args":[73,80]},{"_type":"name-range","args":[73,"fut"]},[{"_type":"inststruct","args":[{"_type":"range","args":[77,80]},{"_type":"name-range","args":[77,"nat"]}]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[81,92]},{"_type":"none"},{"_type":"inststruct","args":[{"_type":"range","args":[83,92]},{"_type":"name-range","args":[83,"array"]},[{"_type":"inststruct","args":[{"_type":"range","args":[89,92]},{"_type":"name-range","args":[89,"str"]}]}]]}]}],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[94,"summon"]},[]]},{"_type":"modifier","args":[{"_type":"name-range","args":[101,"unsafe"]},[]]}],"body":{"_type":"then-ast","args":[{"_type":"param","args":[109,"results"]},{"_type":"for","args":[{"_type":"param","args":[124,"x"]},{"_type":"call","args":["infix",{"_type":"name-range","args":[137,"parallel"]},[],[{"_type":"call","args":["infix",{"_type":"name-range","args":[130,".."]},[],[{"_type":"literal","args":[{"_type":"nat","args":[0,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[100,false]}]}]]}]]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["set-deref",{"_type":"name-range","args":[148,"set-deref"]},[],["foo","x"]]},{"_type":"call","args":["set-deref",{"_type":"name-range","args":[160,"set-deref"]},[],["foo",{"_type":"call","args":["infix",{"_type":"name-range","args":[173,"+"]},[],[{"_type":"call","args":["prefix-op",{"_type":"name-range","args":[168,"*"]},[],["foo"]]},{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]}]]}]]}]},{"_type":"call","args":["comma",{"_type":"name-range","args":[179,"new"]},[],[{"_type":"call","args":["prefix-op",{"_type":"name-range","args":[179,"*"]},[],["foo"]]}]]}]}]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[194,"is"]},[],["results",{"_type":"call","args":["dot",{"_type":"name-range","args":[208,"to-list"]},[],[{"_type":"paren","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[200,".."]},[],[{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[101,false]}]}]]}]}]]}]]},{"_type":"call","args":["infix",{"_type":"name-range","args":[221,"print"]},[],["out",{"_type":"interpolated","args":[[{"_type":"call","args":["subscript",{"_type":"name-range","args":[236,"subscript"]},[],["results",{"_type":"literal","args":[{"_type":"nat","args":[99,false]}]}]]}]]}]]}]},{"_type":"call","args":["empty-parens",{"_type":"name-range","args":[244,"new"]},[],[]]}]}]}},{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[248,279]},"name":"foo","return":{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[252,258]},{"_type":"name-range","args":[252,"nat64"]}]},"mut-ptr"]},"params":[],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[265,"thread-local"]},[]]}]},{"_type":"fun-decl","visibility":"private","range":{"_type":"range","args":[321,366]},"name":"parallel","type-params":[{"_type":"name-range","args":[331,"a"]}],"return":{"_type":"inststruct","args":[{"_type":"range","args":[334,350]},{"_type":"name-range","args":[334,"parallel-range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[349,350]},{"_type":"name-range","args":[349,"a"]}]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[351,360]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[353,360]},{"_type":"name-range","args":[353,"range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[359,360]},{"_type":"name-range","args":[359,"a"]}]}]]}]}],"body":{"_type":"call","args":["comma",{"_type":"name-range","args":[363,"new"]},[],["a"]]}},{"_type":"fun-decl","visibility":"private","range":{"_type":"range","args":[366,513]},"name":"for-loop","return":{"_type":"inststruct","args":[{"_type":"range","args":[376,387]},{"_type":"name-range","args":[376,"fut"]},[{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[380,385]},{"_type":"name-range","args":[380,"nat64"]}]},"list"]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[388,410]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[390,410]},{"_type":"name-range","args":[390,"parallel-range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[405,410]},{"_type":"name-range","args":[405,"nat64"]}]}]]}]},{"_type":"param","args":[{"_type":"range","args":[412,434]},{"_type":"some","value":"f"},{"_type":"fun","args":[{"_type":"range","args":[414,434]},"fun",[{"_type":"inststruct","args":[{"_type":"range","args":[418,427]},{"_type":"name-range","args":[418,"fut"]},[{"_type":"inststruct","args":[{"_type":"range","args":[422,427]},{"_type":"name-range","args":[422,"nat64"]}]}]]},{"_type":"inststruct","args":[{"_type":"range","args":[428,433]},{"_type":"name-range","args":[428,"nat64"]}]}]]}]}],"body":{"_type":"let","args":["tasks",{"_type":"for","args":[{"_type":"param","args":[462,"x"]},{"_type":"call","args":["dot",{"_type":"name-range","args":[468,"inner"]},[],["a"]]},{"_type":"call","args":["infix",{"_type":"name-range","args":[483,"do"]},[],["launch",{"_type":"lambda","args":[[],{"_type":"call","args":["subscript",{"_type":"name-range","args":[493,"subscript"]},[],["f","x"]]}]}]]}]},{"_type":"call","args":["infix",{"_type":"name-range","args":[504,"wait-all"]},[],["tasks"]]}]}}]}