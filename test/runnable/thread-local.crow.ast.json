{"_type":"file-ast","imports":{"_type":"ports","args":[{"_type":"range","args":[0,68]},[{"_type":"port","args":["crow/io/print",{"_type":"named","args":[["out","print"]]}]},{"_type":"port","args":["crow/ptr",{"_type":"named","args":[["*","mut-ptr","set-deref"]]}]}]]},"specs":[],"aliases":[],"structs":[{"_type":"struct-decl","range":{"_type":"range","args":[277,319]},"visibility":"private","type-params":[{"_type":"name-range","args":[293,"a"]}],"body":{"_type":"record","args":[[{"_type":"field","args":[{"_type":"range","args":[304,318]},"const","inner",{"_type":"inststruct","args":[{"_type":"range","args":[311,318]},{"_type":"name-range","args":[311,"range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[317,318]},{"_type":"name-range","args":[317,"a"]}]}]]}]}]]}}],"funs":[{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[68,246]},"name":"main","return":{"_type":"inststruct","args":[{"_type":"range","args":[73,80]},{"_type":"name-range","args":[73,"fut"]},[{"_type":"inststruct","args":[{"_type":"range","args":[77,80]},{"_type":"name-range","args":[77,"nat"]}]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[81,90]},{"_type":"none"},{"_type":"inststruct","args":[{"_type":"range","args":[83,90]},{"_type":"name-range","args":[83,"arr"]},[{"_type":"inststruct","args":[{"_type":"range","args":[87,90]},{"_type":"name-range","args":[87,"str"]}]}]]}]}],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[92,"summon"]},[]]},{"_type":"modifier","args":[{"_type":"name-range","args":[99,"unsafe"]},[]]}],"body":{"_type":"then-ast","args":[{"_type":"param","args":[107,"results"]},{"_type":"for","args":[{"_type":"param","args":[122,"x"]},{"_type":"call","args":["infix",{"_type":"name-range","args":[135,"parallel"]},[],[{"_type":"call","args":["infix",{"_type":"name-range","args":[128,".."]},[],[{"_type":"literal","args":[{"_type":"nat","args":[0,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[100,false]}]}]]}]]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["set-deref",{"_type":"name-range","args":[146,"set-deref"]},[],["foo","x"]]},{"_type":"call","args":["set-deref",{"_type":"name-range","args":[158,"set-deref"]},[],["foo",{"_type":"call","args":["infix",{"_type":"name-range","args":[171,"+"]},[],[{"_type":"call","args":["prefix-op",{"_type":"name-range","args":[166,"*"]},[],["foo"]]},{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]}]]}]]}]},{"_type":"call","args":["comma",{"_type":"name-range","args":[177,"new"]},[],[{"_type":"call","args":["prefix-op",{"_type":"name-range","args":[177,"*"]},[],["foo"]]}]]}]}]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[192,"is"]},[],["results",{"_type":"call","args":["dot",{"_type":"name-range","args":[206,"to-list"]},[],[{"_type":"paren","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[198,".."]},[],[{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[101,false]}]}]]}]}]]}]]},{"_type":"call","args":["infix",{"_type":"name-range","args":[219,"print"]},[],["out",{"_type":"interpolated","args":[[{"_type":"call","args":["subscript",{"_type":"name-range","args":[234,"subscript"]},[],["results",{"_type":"literal","args":[{"_type":"nat","args":[99,false]}]}]]}]]}]]}]},{"_type":"call","args":["empty-parens",{"_type":"name-range","args":[242,"new"]},[],[]]}]}]}},{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[246,277]},"name":"foo","return":{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[250,256]},{"_type":"name-range","args":[250,"nat64"]}]},"mut-ptr"]},"params":[],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[263,"thread-local"]},[]]}]},{"_type":"fun-decl","visibility":"private","range":{"_type":"range","args":[319,364]},"name":"parallel","type-params":[{"_type":"name-range","args":[329,"a"]}],"return":{"_type":"inststruct","args":[{"_type":"range","args":[332,348]},{"_type":"name-range","args":[332,"parallel-range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[347,348]},{"_type":"name-range","args":[347,"a"]}]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[349,358]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[351,358]},{"_type":"name-range","args":[351,"range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[357,358]},{"_type":"name-range","args":[357,"a"]}]}]]}]}],"body":{"_type":"call","args":["comma",{"_type":"name-range","args":[361,"new"]},[],["a"]]}},{"_type":"fun-decl","visibility":"private","range":{"_type":"range","args":[364,511]},"name":"for-loop","return":{"_type":"inststruct","args":[{"_type":"range","args":[374,385]},{"_type":"name-range","args":[374,"fut"]},[{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[378,383]},{"_type":"name-range","args":[378,"nat64"]}]},"list"]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[386,408]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[388,408]},{"_type":"name-range","args":[388,"parallel-range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[403,408]},{"_type":"name-range","args":[403,"nat64"]}]}]]}]},{"_type":"param","args":[{"_type":"range","args":[410,432]},{"_type":"some","value":"f"},{"_type":"fun","args":[{"_type":"range","args":[412,432]},"fun",[{"_type":"inststruct","args":[{"_type":"range","args":[416,425]},{"_type":"name-range","args":[416,"fut"]},[{"_type":"inststruct","args":[{"_type":"range","args":[420,425]},{"_type":"name-range","args":[420,"nat64"]}]}]]},{"_type":"inststruct","args":[{"_type":"range","args":[426,431]},{"_type":"name-range","args":[426,"nat64"]}]}]]}]}],"body":{"_type":"let","args":["tasks",{"_type":"for","args":[{"_type":"param","args":[460,"x"]},{"_type":"call","args":["dot",{"_type":"name-range","args":[466,"inner"]},[],["a"]]},{"_type":"call","args":["infix",{"_type":"name-range","args":[481,"do"]},[],["launch",{"_type":"lambda","args":[[],{"_type":"call","args":["subscript",{"_type":"name-range","args":[491,"subscript"]},[],["f","x"]]}]}]]}]},{"_type":"call","args":["infix",{"_type":"name-range","args":[502,"wait-all"]},[],["tasks"]]}]}}]}