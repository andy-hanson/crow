{"_type":"file-ast","imports":{"_type":"ports","args":[{"_type":"range","args":[0,68]},[{"_type":"port","args":["crow/io/print",{"_type":"named","args":[["out","print"]]}]},{"_type":"port","args":["crow/ptr",{"_type":"named","args":[["*","mut-ptr","set-deref"]]}]}]]},"specs":[],"aliases":[],"structs":[{"_type":"struct-decl","range":{"_type":"range","args":[275,317]},"visibility":"private","type-params":[{"_type":"name-range","args":[291,"a"]}],"body":{"_type":"record","args":[[{"_type":"field","args":[{"_type":"range","args":[302,316]},"const","inner",{"_type":"inststruct","args":[{"_type":"range","args":[309,316]},{"_type":"name-range","args":[309,"range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[315,316]},{"_type":"name-range","args":[315,"a"]}]}]]}]}]]}}],"funs":[{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[68,244]},"name":"main","return":{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[73,76]},{"_type":"name-range","args":[73,"nat"]}]},"future"]},"params":[{"_type":"param","args":[{"_type":"range","args":[78,88]},{"_type":"none"},{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[80,86]},{"_type":"name-range","args":[80,"string"]}]},"list"]}]}],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[90,"summon"]},[]]},{"_type":"modifier","args":[{"_type":"name-range","args":[97,"unsafe"]},[]]}],"body":{"_type":"then","args":[[{"_type":"param","args":[105,"results"]}],{"_type":"for","args":[[{"_type":"param","args":[120,"x"]}],{"_type":"call","args":["infix",{"_type":"name-range","args":[133,"parallel"]},[],[{"_type":"call","args":["infix",{"_type":"name-range","args":[126,".."]},[],[{"_type":"literal","args":[{"_type":"nat","args":[0,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[100,false]}]}]]}]]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["set-deref",{"_type":"name-range","args":[144,"set-deref"]},[],["foo","x"]]},{"_type":"call","args":["set-deref",{"_type":"name-range","args":[156,"set-deref"]},[],["foo",{"_type":"call","args":["infix",{"_type":"name-range","args":[169,"+"]},[],[{"_type":"call","args":["prefix-op",{"_type":"name-range","args":[164,"*"]},[],["foo"]]},{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]}]]}]]}]},{"_type":"call","args":["comma",{"_type":"name-range","args":[175,"new"]},[],[{"_type":"call","args":["prefix-op",{"_type":"name-range","args":[175,"*"]},[],["foo"]]}]]}]}]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[190,"is"]},[],["results",{"_type":"call","args":["dot",{"_type":"name-range","args":[204,"to-list"]},[],[{"_type":"paren","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[196,".."]},[],[{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[101,false]}]}]]}]}]]}]]},{"_type":"call","args":["infix",{"_type":"name-range","args":[217,"print"]},[],["out",{"_type":"interpolated","args":[[{"_type":"call","args":["subscript",{"_type":"name-range","args":[232,"subscript"]},[],["results",{"_type":"literal","args":[{"_type":"nat","args":[99,false]}]}]]}]]}]]}]},{"_type":"call","args":["empty-parens",{"_type":"name-range","args":[240,"new"]},[],[]]}]}]}},{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[244,275]},"name":"foo","return":{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[248,254]},{"_type":"name-range","args":[248,"nat64"]}]},"mut-ptr"]},"params":[],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[261,"thread-local"]},[]]}]},{"_type":"fun-decl","visibility":"private","range":{"_type":"range","args":[317,362]},"name":"parallel","type-params":[{"_type":"name-range","args":[327,"a"]}],"return":{"_type":"inststruct","args":[{"_type":"range","args":[330,346]},{"_type":"name-range","args":[330,"parallel-range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[345,346]},{"_type":"name-range","args":[345,"a"]}]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[347,356]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[349,356]},{"_type":"name-range","args":[349,"range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[355,356]},{"_type":"name-range","args":[355,"a"]}]}]]}]}],"body":{"_type":"call","args":["comma",{"_type":"name-range","args":[359,"new"]},[],["a"]]}},{"_type":"fun-decl","visibility":"private","range":{"_type":"range","args":[362,502]},"name":"for-loop","return":{"_type":"suffix","args":[{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[372,377]},{"_type":"name-range","args":[372,"nat64"]}]},"list"]},"future"]},"params":[{"_type":"param","args":[{"_type":"range","args":[381,403]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[383,403]},{"_type":"name-range","args":[383,"parallel-range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[398,403]},{"_type":"name-range","args":[398,"nat64"]}]}]]}]},{"_type":"param","args":[{"_type":"range","args":[405,424]},{"_type":"some","value":"f"},{"_type":"fun","args":[{"_type":"range","args":[407,424]},"fun",[{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[411,416]},{"_type":"name-range","args":[411,"nat64"]}]},"future"]},{"_type":"inststruct","args":[{"_type":"range","args":[418,423]},{"_type":"name-range","args":[418,"nat64"]}]}]]}]}],"body":{"_type":"let","args":["tasks",{"_type":"for","args":[[{"_type":"param","args":[448,"x"]}],{"_type":"call","args":["dot",{"_type":"name-range","args":[454,"inner"]},[],["a"]]},{"_type":"with","args":[[],"parallel",{"_type":"call","args":["subscript",{"_type":"name-range","args":[482,"subscript"]},[],["f","x"]]}]}]},{"_type":"call","args":["infix",{"_type":"name-range","args":[493,"wait-all"]},[],["tasks"]]}]}}]}