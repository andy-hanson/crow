{"_type":"file-ast","imports":{"_type":"ports","args":[{"_type":"range","args":[0,76]},[{"_type":"port","args":["crow/io/print",{"_type":"named","args":[["out","print"]]}]},{"_type":"port","args":["crow/pointer",{"_type":"named","args":[["*","mut-pointer","set-deref"]]}]}]]},"specs":[],"aliases":[],"structs":[{"_type":"struct-decl","range":{"_type":"range","args":[283,325]},"visibility":"private","type-params":[{"_type":"name-range","args":[299,"a"]}],"body":{"_type":"record","args":[[{"_type":"field","args":[{"_type":"range","args":[310,324]},"const","inner",{"_type":"inststruct","args":[{"_type":"range","args":[317,324]},{"_type":"name-range","args":[317,"range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[323,324]},{"_type":"name-range","args":[323,"a"]}]}]]}]}]]}}],"funs":[{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[76,252]},"name":"main","return":{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[81,84]},{"_type":"name-range","args":[81,"nat"]}]},"future"]},"params":[{"_type":"param","args":[{"_type":"range","args":[86,96]},{"_type":"none"},{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[88,94]},{"_type":"name-range","args":[88,"string"]}]},"list"]}]}],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[98,"summon"]},[]]},{"_type":"modifier","args":[{"_type":"name-range","args":[105,"unsafe"]},[]]}],"body":{"_type":"then","args":[[{"_type":"param","args":[113,"results"]}],{"_type":"for","args":[[{"_type":"param","args":[128,"x"]}],{"_type":"call","args":["infix",{"_type":"name-range","args":[141,"parallel"]},[],[{"_type":"call","args":["infix",{"_type":"name-range","args":[134,".."]},[],[{"_type":"literal","args":[{"_type":"nat","args":[0,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[100,false]}]}]]}]]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["set-deref",{"_type":"name-range","args":[152,"set-deref"]},[],["foo","x"]]},{"_type":"call","args":["set-deref",{"_type":"name-range","args":[164,"set-deref"]},[],["foo",{"_type":"call","args":["infix",{"_type":"name-range","args":[177,"+"]},[],[{"_type":"call","args":["prefix-op",{"_type":"name-range","args":[172,"*"]},[],["foo"]]},{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]}]]}]]}]},{"_type":"call","args":["comma",{"_type":"name-range","args":[183,"new"]},[],[{"_type":"call","args":["prefix-op",{"_type":"name-range","args":[183,"*"]},[],["foo"]]}]]}]}]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[198,"is"]},[],["results",{"_type":"call","args":["dot",{"_type":"name-range","args":[212,"to-list"]},[],[{"_type":"paren","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[204,".."]},[],[{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[101,false]}]}]]}]}]]}]]},{"_type":"call","args":["infix",{"_type":"name-range","args":[225,"print"]},[],["out",{"_type":"interpolated","args":[[{"_type":"call","args":["subscript",{"_type":"name-range","args":[240,"subscript"]},[],["results",{"_type":"literal","args":[{"_type":"nat","args":[99,false]}]}]]}]]}]]}]},{"_type":"call","args":["empty-parens",{"_type":"name-range","args":[248,"new"]},[],[]]}]}]}},{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[252,283]},"name":"foo","return":{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[256,262]},{"_type":"name-range","args":[256,"nat64"]}]},"mut-pointer"]},"params":[],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[269,"thread-local"]},[]]}]},{"_type":"fun-decl","visibility":"private","range":{"_type":"range","args":[325,370]},"name":"parallel","type-params":[{"_type":"name-range","args":[335,"a"]}],"return":{"_type":"inststruct","args":[{"_type":"range","args":[338,354]},{"_type":"name-range","args":[338,"parallel-range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[353,354]},{"_type":"name-range","args":[353,"a"]}]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[355,364]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[357,364]},{"_type":"name-range","args":[357,"range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[363,364]},{"_type":"name-range","args":[363,"a"]}]}]]}]}],"body":{"_type":"call","args":["comma",{"_type":"name-range","args":[367,"new"]},[],["a"]]}},{"_type":"fun-decl","visibility":"private","range":{"_type":"range","args":[370,510]},"name":"for-loop","return":{"_type":"suffix","args":[{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[380,385]},{"_type":"name-range","args":[380,"nat64"]}]},"list"]},"future"]},"params":[{"_type":"param","args":[{"_type":"range","args":[389,411]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[391,411]},{"_type":"name-range","args":[391,"parallel-range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[406,411]},{"_type":"name-range","args":[406,"nat64"]}]}]]}]},{"_type":"param","args":[{"_type":"range","args":[413,432]},{"_type":"some","value":"f"},{"_type":"fun","args":[{"_type":"range","args":[415,432]},"fun",[{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[419,424]},{"_type":"name-range","args":[419,"nat64"]}]},"future"]},{"_type":"inststruct","args":[{"_type":"range","args":[426,431]},{"_type":"name-range","args":[426,"nat64"]}]}]]}]}],"body":{"_type":"let","args":["tasks",{"_type":"for","args":[[{"_type":"param","args":[456,"x"]}],{"_type":"call","args":["dot",{"_type":"name-range","args":[462,"inner"]},[],["a"]]},{"_type":"with","args":[[],"parallel",{"_type":"call","args":["subscript",{"_type":"name-range","args":[490,"subscript"]},[],["f","x"]]}]}]},{"_type":"call","args":["infix",{"_type":"name-range","args":[501,"wait-all"]},[],["tasks"]]}]}}]}