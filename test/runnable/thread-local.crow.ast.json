{"_type":"file-ast","imports":{"_type":"ports","args":[{"_type":"range","args":[0,68]},[{"_type":"port","args":["crow/io/print",{"_type":"named","args":[["out","print"]]}]},{"_type":"port","args":["crow/ptr",{"_type":"named","args":[["*","mut-ptr","set-deref"]]}]}]]},"specs":[],"aliases":[],"structs":[{"_type":"struct-decl","range":{"_type":"range","args":[272,314]},"visibility":"private","type-params":[{"_type":"name-range","args":[288,"a"]}],"body":{"_type":"record","args":[[{"_type":"field","args":[{"_type":"range","args":[299,313]},"const","inner",{"_type":"inststruct","args":[{"_type":"range","args":[306,313]},{"_type":"name-range","args":[306,"range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[312,313]},{"_type":"name-range","args":[312,"a"]}]}]]}]}]]}}],"funs":[{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[68,241]},"name":"main","return":{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[73,76]},{"_type":"name-range","args":[73,"nat"]}]},"future"]},"params":[{"_type":"param","args":[{"_type":"range","args":[78,85]},{"_type":"none"},{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[80,83]},{"_type":"name-range","args":[80,"str"]}]},"list"]}]}],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[87,"summon"]},[]]},{"_type":"modifier","args":[{"_type":"name-range","args":[94,"unsafe"]},[]]}],"body":{"_type":"then","args":[[{"_type":"param","args":[102,"results"]}],{"_type":"for","args":[[{"_type":"param","args":[117,"x"]}],{"_type":"call","args":["infix",{"_type":"name-range","args":[130,"parallel"]},[],[{"_type":"call","args":["infix",{"_type":"name-range","args":[123,".."]},[],[{"_type":"literal","args":[{"_type":"nat","args":[0,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[100,false]}]}]]}]]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["set-deref",{"_type":"name-range","args":[141,"set-deref"]},[],["foo","x"]]},{"_type":"call","args":["set-deref",{"_type":"name-range","args":[153,"set-deref"]},[],["foo",{"_type":"call","args":["infix",{"_type":"name-range","args":[166,"+"]},[],[{"_type":"call","args":["prefix-op",{"_type":"name-range","args":[161,"*"]},[],["foo"]]},{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]}]]}]]}]},{"_type":"call","args":["comma",{"_type":"name-range","args":[172,"new"]},[],[{"_type":"call","args":["prefix-op",{"_type":"name-range","args":[172,"*"]},[],["foo"]]}]]}]}]},{"_type":"seq-ast","args":[{"_type":"seq-ast","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[187,"is"]},[],["results",{"_type":"call","args":["dot",{"_type":"name-range","args":[201,"to-list"]},[],[{"_type":"paren","args":[{"_type":"call","args":["infix",{"_type":"name-range","args":[193,".."]},[],[{"_type":"literal","args":[{"_type":"nat","args":[1,false]}]},{"_type":"literal","args":[{"_type":"nat","args":[101,false]}]}]]}]}]]}]]},{"_type":"call","args":["infix",{"_type":"name-range","args":[214,"print"]},[],["out",{"_type":"interpolated","args":[[{"_type":"call","args":["subscript",{"_type":"name-range","args":[229,"subscript"]},[],["results",{"_type":"literal","args":[{"_type":"nat","args":[99,false]}]}]]}]]}]]}]},{"_type":"call","args":["empty-parens",{"_type":"name-range","args":[237,"new"]},[],[]]}]}]}},{"_type":"fun-decl","visibility":"public","range":{"_type":"range","args":[241,272]},"name":"foo","return":{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[245,251]},{"_type":"name-range","args":[245,"nat64"]}]},"mut-ptr"]},"params":[],"modifiers":[{"_type":"modifier","args":[{"_type":"name-range","args":[258,"thread-local"]},[]]}]},{"_type":"fun-decl","visibility":"private","range":{"_type":"range","args":[314,359]},"name":"parallel","type-params":[{"_type":"name-range","args":[324,"a"]}],"return":{"_type":"inststruct","args":[{"_type":"range","args":[327,343]},{"_type":"name-range","args":[327,"parallel-range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[342,343]},{"_type":"name-range","args":[342,"a"]}]}]]},"params":[{"_type":"param","args":[{"_type":"range","args":[344,353]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[346,353]},{"_type":"name-range","args":[346,"range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[352,353]},{"_type":"name-range","args":[352,"a"]}]}]]}]}],"body":{"_type":"call","args":["comma",{"_type":"name-range","args":[356,"new"]},[],["a"]]}},{"_type":"fun-decl","visibility":"private","range":{"_type":"range","args":[359,499]},"name":"for-loop","return":{"_type":"suffix","args":[{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[369,374]},{"_type":"name-range","args":[369,"nat64"]}]},"list"]},"future"]},"params":[{"_type":"param","args":[{"_type":"range","args":[378,400]},{"_type":"some","value":"a"},{"_type":"inststruct","args":[{"_type":"range","args":[380,400]},{"_type":"name-range","args":[380,"parallel-range"]},[{"_type":"inststruct","args":[{"_type":"range","args":[395,400]},{"_type":"name-range","args":[395,"nat64"]}]}]]}]},{"_type":"param","args":[{"_type":"range","args":[402,421]},{"_type":"some","value":"f"},{"_type":"fun","args":[{"_type":"range","args":[404,421]},"fun",[{"_type":"suffix","args":[{"_type":"inststruct","args":[{"_type":"range","args":[408,413]},{"_type":"name-range","args":[408,"nat64"]}]},"future"]},{"_type":"inststruct","args":[{"_type":"range","args":[415,420]},{"_type":"name-range","args":[415,"nat64"]}]}]]}]}],"body":{"_type":"let","args":["tasks",{"_type":"for","args":[[{"_type":"param","args":[445,"x"]}],{"_type":"call","args":["dot",{"_type":"name-range","args":[451,"inner"]},[],["a"]]},{"_type":"with","args":[[],"parallel",{"_type":"call","args":["subscript",{"_type":"name-range","args":[479,"subscript"]},[],["f","x"]]}]}]},{"_type":"call","args":["infix",{"_type":"name-range","args":[490,"wait-all"]},[],["tasks"]]}]}}]}