module(
	path: 40
	imports: [
		import(none, 38, none)
		import(
			some(range(8, 13))
			9
			some([cur-word, gc-count, gc-stats, get-gc, get-stats, force-needs-gc, set-hard-limit, words-free, words-used]))
		import(some(range(112, 114)), 32, some([exit-code, print]))]
	exports: []
	structs: [struct(range: file-range(40, range(783, 814)), public?: true, name: r)]
	specs: []
	funs: [
		fun(
			public?: true
			summon: true
			unsafe: true
			sig: sig(file-pos(40, 133), main, fut(int32()), [param(file-range(40, range(152, 161)), none, arr(arr(char())))])
			body: let(
				local(file-range(40, range(178, 180)), gc, gc())
				call(fun-inst(name: get-gc), [])
				seq(
					call(fun-inst(name: set-hard-limit), [local-ref(gc), literal(nat(), 512)])
					let(
						local(file-range(40, range(280, 281)), a, r())
						call(fun-inst(name: r), [literal(nat(), 1), literal(nat(), 2), literal(nat(), 3)])
						let(
							local(file-range(40, range(296, 297)), b, r())
							call(fun-inst(name: r), [literal(nat(), 4), literal(nat(), 5), literal(nat(), 6)])
							seq(
								seq(
									seq(
										seq(
											seq(
												seq(
													seq(
														call(
															fun-inst(name: assert)
															[
																call(
																	fun-inst(name: ==, type-args: [nat()])
																	[
																		call(
																			fun-inst(
																				name: size-of
																				type-args: [by-val(r())])
																			[])
																		literal(nat(), 24)])])
														call(
															fun-inst(name: assert)
															[
																call(
																	fun-inst(name: ==, type-args: [nat()])
																	[
																		call(
																			fun-inst(name: -, type-args: [nat8()])
																			[
																				call(
																					fun-inst(
																						name: as-any-ptr
																						type-args: [r()])
																					[local-ref(b)])
																				call(
																					fun-inst(
																						name: as-any-ptr
																						type-args: [r()])
																					[local-ref(a)])])
																		literal(nat(), 24)])]))
													call(
														fun-inst(name: print)
														[
															call(
																fun-inst(name: +, type-args: [char()])
																[
																	string-lit("stats: ")
																	call(
																		fun-inst(name: to-str)
																		[
																			call(
																				fun-inst(name: get-stats)
																				[local-ref(gc)])])])]))
												call(
													fun-inst(name: print)
													[
														call(
															fun-inst(name: +, type-args: [char()])
															[
																string-lit("gc count: ")
																call(
																	fun-inst(name: to-str)
																	[call(fun-inst(name: gc-count), [local-ref(gc)])])])]))
											call(
												fun-inst(name: print)
												[
													call(
														fun-inst(name: +, type-args: [char()])
														[
															string-lit("a: ")
															call(fun-inst(name: to-str), [local-ref(a)])])]))
										call(
											fun-inst(name: print)
											[
												call(
													fun-inst(name: +, type-args: [char()])
													[
														string-lit("stats (after print): ")
														call(
															fun-inst(name: to-str)
															[call(fun-inst(name: get-stats), [local-ref(gc)])])])]))
									call(fun-inst(name: force-needs-gc), [local-ref(gc)]))
								call(
									fun-inst(name: then, type-args: [int32(), void()])
									[
										call(fun-inst(name: delay), [])
										lambda(
											[param(file-range(40, range(571, 572)), some(v), void())]
											seq(
												seq(
													seq(
														seq(
															seq(
																call(
																	fun-inst(name: print)
																	[string-lit("-- after gc --")])
																call(
																	fun-inst(name: print)
																	[
																		call(
																			fun-inst(name: +, type-args: [char()])
																			[
																				string-lit("stats: ")
																				call(
																					fun-inst(name: to-str)
																					[
																						call(
																							fun-inst(name: get-stats)
																							[closure-rf(gc)])])])]))
															call(
																fun-inst(name: print)
																[
																	call(
																		fun-inst(name: +, type-args: [char()])
																		[
																			string-lit("gc count: ")
																			call(
																				fun-inst(name: to-str)
																				[
																					call(
																						fun-inst(name: gc-count)
																						[closure-rf(gc)])])])]))
														call(
															fun-inst(name: print)
															[
																call(
																	fun-inst(name: +, type-args: [char()])
																	[
																		string-lit("a: ")
																		call(fun-inst(name: to-str), [closure-rf(a)])])]))
													call(
														fun-inst(name: print)
														[
															call(
																fun-inst(name: +, type-args: [char()])
																[
																	string-lit("stats (after print): ")
																	call(
																		fun-inst(name: to-str)
																		[
																			call(
																				fun-inst(name: get-stats)
																				[closure-rf(gc)])])])]))
												call(
													fun-inst(name: resolved, type-args: [int32()])
													[literal(int32(), 0)]))
											[closure-f(gc, gc(), local-ref(gc)), closure-f(a, r(), local-ref(a))]
											fun-ref1(int32(), void())
											ref
											fut(int32()))])))))))
		fun(
			public?: true
			sig: sig(file-pos(40, 814), to-str, arr(char()), [param(file-range(40, range(825, 828)), some(a), r())])
			body: call(
				fun-inst(name: +, type-args: [char()])
				[
					call(
						fun-inst(name: +, type-args: [char()])
						[
							call(
								fun-inst(name: +, type-args: [char()])
								[
									call(
										fun-inst(name: +, type-args: [char()])
										[
											call(
												fun-inst(name: +, type-args: [char()])
												[
													string-lit("a=")
													call(
														fun-inst(name: to-str)
														[call(fun-inst(name: a), [param-ref(a)])])])
											string-lit(", b=")])
									call(fun-inst(name: to-str), [call(fun-inst(name: b), [param-ref(a)])])])
							string-lit(", c=")])
					call(fun-inst(name: to-str), [call(fun-inst(name: c), [param-ref(a)])])]))
		fun(
			public?: true
			summon: true
			sig: sig(file-pos(40, 894), to-str, arr(char()), [param(file-range(40, range(905, 915)), some(a), gc-stats())])
			body: call(
				fun-inst(name: +, type-args: [char()])
				[
					call(
						fun-inst(name: +, type-args: [char()])
						[
							call(
								fun-inst(name: +, type-args: [char()])
								[
									call(
										fun-inst(name: +, type-args: [char()])
										[
											call(
												fun-inst(name: +, type-args: [char()])
												[
													string-lit("cur-word=")
													call(
														fun-inst(name: to-str)
														[call(fun-inst(name: cur-word), [param-ref(a)])])])
											string-lit(", words-used=")])
									call(fun-inst(name: to-str), [call(fun-inst(name: words-used), [param-ref(a)])])])
							string-lit(", words-free=")])
					call(fun-inst(name: to-str), [call(fun-inst(name: words-free), [param-ref(a)])])]))
		fun(
			public?: true
			preferred: true
			sig: sig(
				file-pos(40, 783)
				r
				r()
				[
					param(file-range(40, range(793, 798)), some(a), nat())
					param(file-range(40, range(800, 805)), some(b), nat())
					param(file-range(40, range(807, 812)), some(c), nat())])
			body: new-record)
		fun(
			public?: true
			no-ctx: true
			sig: sig(
				file-pos(40, 783)
				r
				by-val(r())
				[
					param(file-range(40, range(793, 798)), some(a), nat())
					param(file-range(40, range(800, 805)), some(b), nat())
					param(file-range(40, range(807, 812)), some(c), nat())])
			body: new-record)
		fun(
			public?: true
			no-ctx: true
			sig: sig(file-pos(40, 793), a, nat(), [param(file-range(40, range(793, 798)), some(a), r())])
			body: field-get(0))
		fun(
			public?: true
			no-ctx: true
			sig: sig(file-pos(40, 800), b, nat(), [param(file-range(40, range(800, 805)), some(a), r())])
			body: field-get(1))
		fun(
			public?: true
			no-ctx: true
			sig: sig(file-pos(40, 807), c, nat(), [param(file-range(40, range(807, 812)), some(a), r())])
			body: field-get(2))])
