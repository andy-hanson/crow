import
	crow/private/thread-utils: create-one-thread, join-one-thread
	stdio: puts

main nat^(_ string[]) summon, unsafe
	thread = null create-one-thread &thread-fun
	thread join-one-thread
	info log "did join"
	()

-thread-fun any-mut-pointer(a any-mut-pointer) bare, summon, unsafe
	_ = "will assert" puts
	assert 1::nat64 + 1 == 3
	_ = "did assert" puts
	a
