<main id="download">
	<h1>Download</h1>

	<details>
		<summary>
			Debian-derived (Ubuntu, etc.) (x64)
			<a href="./bin/crow-x64.deb"><crow-icon icon="download"></crow-icon> <code>crow-x64.deb</code></a>
		</summary>
		<div class="code-block">
			cd ~/Downloads
			<br />
			sudo dpkg --install crow-x64.deb
		</div>
		<p>To uninstall: <code>sudo dpkg --remove crow</code></p>
	</details>
	<details>
		<summary>
			Any Linux (x64)
			<a href="./bin/crow-linux-x64.tar.xz">
				<crow-icon icon="download"></crow-icon> <code>crow-linux-x64.tar.xz</code>
			</a>
		</summary>
		<p>First ensure <code>libunwind-dev</code> is installed. Then:</p>

		<h4>Global install (recommended)</h4>
		<div class="code-block">
			cd ~/Downloads
			<br />
			sudo tar -xJf crow-linux-x64.tar.xz -C /usr/local/bin bin --strip-components 1
			<br />
			sudo mkdir /usr/local/include/crow
			<br />
			sudo tar -xJf crow-linux-x64.tar.xz -C /usr/local/include/crow include --strip-components 1
		</div>
		<p>To uninstall: <code>sudo rm -r /usr/local/bin/crow /usr/local/include/crow</code></p>

		<h4>Local install</h4>
		<div class="code-block">
			tar --extract --xz --file crow-linux-64.tar.xz
			export PATH="$PATH:~/Downloads/crow"
		</div>
		<p>To uninstall: <code>rm -r ~/Downloads/crow</code></p>
	</details>
	<details>
		<summary>
			Windows (x64)
			<a href="./bin/crow-windows-x64.tar.xz">
				<crow-icon icon="download"></crow-icon> <code>crow-windows-x64.tar.xz</code>
			</a>
		</summary>
		<div class="code-block">
			mkdir C:\crow
			<br />
			tar --extract -xJf crow-windows-x64.tar.xz -C C:\crow
		</div>
		<p>
			(<code>C:\crow</code> is a suggestion; you can install it anywhere.)
			<br />
			Then add <code>C:\crow\bin</code> to your <code>PATH</code>.
			(<a href="https://www.java.com/en/download/help/path.html">How to do that</a>)
		</p>
		<p>To uninstall: <code>rmdir /s /q C:\crow</code></p>
	</details>
	<details>
		<summary>Other</summary>
		<p>
			If you'd like to see a new system supported,
			create an <a href="https://github.com/andy-hanson/crow/issues">issue</a>.
		</p>
	</details>

	<hr />
	<p>
		Once it's installed, test it out on some demos:
	</p>

	<details>
		<summary>
			Demos (optional)
			<a href="./bin/crow-demo.tar.xz"><crow-icon icon="download"></crow-icon>crow-demo.tar.xz</a>
			<a href="./bin/crow-demo-windows.tar.xz" download="crow-demo.tar.xz">
				<crow-icon icon="download"></crow-icon>crow-demo-windows.tar.xz
			</a>
		</summary>
		<div class="code-block">
			cd ~/Downloads
			<br />
			tar -xJf crow-demo.tar.xz
			<br />
			crow crow-demo/hello.crow
			<br />
			# To see other demos
			<br />
			dir crow-demo
		</div>

		<aside class="small">
			To be able to run all demos, install:
			<br />
			<code>sudo apt install libsdl2-dev libsndfile1-dev libsodium-dev libsqlite3-dev</code>.
			<br />
			For Windows, these are included in <code>crow-demo\extern</code> and will be picked up automatically.
		</aside>
	</details>

	<hr />
	<p>
		Crow supports IDE features: syntax highlighting, diagnostics, go-to-definition, references, and renaming.
	</p>

	<details>
		<summary>
			VSCode
			<a href="./bin/crow.vsix"><crow-icon icon="download"></crow-icon>crow.vsix</a>
		</summary>

		<div class="code-block">
			code --install-extension crow.vsix
		</div>
	</details>

	<details>
		<summary>
			Sublime text
			<a href="./bin/crow.sublime-syntax" download><crow-icon icon="download"></crow-icon>crow.sublime-syntax</a>
		</summary>

		<ul class="bullets">
			<li>
				Linux:
				<code>
					bash -llc 'ln -s `pwd`/crow/editor/crow.sublime-syntax
					~/.config/sublime-text/Packages/User/crow.sublime-syntax'
				</code>
			</li>
			<li>
				Windows:
				<code>
					copy %CD%\crow\editor\crow.sublime-syntax
					"%USERPROFILE%\AppData\Roaming\Sublime Text\Packages\User\crow.sublime-syntax"
				</code>
			</li>
		</ul>
		<p>
			Then restart Sublime Text and open a Crow file.
			In the lower-right corner, click "Plain text" and change it to "Crow".
		</p>

		<h4>LSP support</h4>
		<p>
			There is no download for this. It uses the <code>crow</code> you already installed.
			<br />
			Install package control, then install the <code>LSP</code> plugin.
			<br />
			In the top menu, open Preferences → Package settings → LSP → Settings.
			<br />
			In the "clients" section, paste:
		</p>

		<div class="code-block">
<pre>"crow": {
	"command": ["/usr/local/bin/crow", "lsp"],
	"enabled": true,
	"languageId": "crow",
	"scopes": ["source.crow"],
	"syntaxes": "Packages/crow/crow.sublime-syntax"
}</pre>
		</div>

		<p>
			You should now be able to see diagnostics (try calling a nonexistent function).
			For other actions, right click and use the "LSP" menu.
			If there seems to be an issue, debug with the "LSP: Toggle Log Panel" command.
		</p>
	</details>
</main>
