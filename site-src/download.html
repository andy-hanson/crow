<main>
	<h1>Download</h1>

	<aside>
		<p>
			To build from source, see <a href="https://github.com/andy-hanson/crow#setup">here</a>.
		</p>
	</aside>

	<h2>
		Linux (x64)
		<a href="./bin/crow.tar.xz">
			<crow-icon icon="download"></crow-icon> <code>crow.tar.xz</code>
		</a>
	</h2>

	<aside>
		<h4>Linux dependencies</h4>
		<p>
			The only required dependency is <code>libunwind</code>.
			<br />
			(If you use <code>apt</code>: <code>sudo apt install libunwind-dev</code>.)
		</p>
		<p>
			Optional dependencies to run demos:
			<br />
			<code>sudo apt install libsdl2-dev libsndfile1-dev libsodium-dev libsqlite3-dev</code>.
		</p>
		<p>
			<code>-dev</code> dependencies are needed since these are not Crow's own dependencies
			(except for <code>libunwind</code>), but dependencies of the code that it builds.
		</p>
	</aside>

	<p>
		Download the above and run the below in a terminal:
	</p>

	<div class="code-block">
		tar --extract --xz --file crow.tar.xz
		<br />
		sudo ln --force --symbolic ~/Downloads/crow/bin/crow /usr/local/bin/crow
		<br />
		crow run ./crow/demo/hello
	</div>


	<h2>
		Windows (x64)
		<a href="./bin/crow.zip">
			<crow-icon icon="download"></crow-icon> <code>crow.zip</code>
		</a>
	</h2>

	<p>
		Download the above, unzip it, and edit the <code>PATH</code> environment variable
		to include the <code>crow\bin</code> directory.
		<br />
		(You also need to restart affected applications like a terminal or IDE after changing the PATH.)
		<br />
		Then:
	</p>

	<div class="code-block">
		crow run crow\demo\hello
	</div>

	<aside class="danger">
		<p>
			To use <code>crow build</code>, you need to run it in the
			"x64 Native Tools Command Prompt for VS 20__" (fill in the year).
			<br />
			Other commands like <code>crow run</code> should work in any terminal.
		</p>
	</aside>

	<h2>Other systems</h2>
	<p>
		If you want it ported to a different system, just <a href="https://github.com/andy-hanson/crow/issues">ask</a>.
	</p>

	<h1>Editor support</h1>

	<h2>VSCode</h2>

	<div class="code-block">
		code --install-extension crow/editor/crow.vsix
	</div>

	This supports syntax highlighting, diagnostics, go-to-definition, references, and renaming.

	<h2>Sublime Text</h2>

	<h3>Syntax definition</h3>
	<ul class="bullets">
		<li>
			Linux:
			<code>
				bash -llc 'ln -s `pwd`/crow/editor/crow.sublime-syntax
				~/.config/sublime-text/Packages/User/crow.sublime-syntax'
			</code>
		</li>
		<li>
			Windows:
			<code>
				copy %CD%\crow\editor\crow.sublime-syntax
				"%USERPROFILE%\AppData\Roaming\Sublime Text\Packages\User\crow.sublime-syntax"
			</code>
		</li>
	</ul>
	<p>
		Then restart Sublime Text and open a Crow file.
		In the lower-right corner, click "Plain text" and change it to "Crow".
	</p>

	<h3>LSP support</h3>

	<p>
		Install package control, then install the <code>LSP</code> plugin.
		<br />
		In the top menu, open Preferences → Package settings → LSP → Settings.
		<br />
		In the "clients" section, paste:
	</p>

	<div class="code-block">
<pre>"crow": {
	"command": ["/usr/local/bin/crow", "lsp"],
	"enabled": true,
	"languageId": "crow",
	"scopes": ["source.crow"],
	"syntaxes": "Packages/crow/crow.sublime-syntax"
}</pre>
	</div>

	<p>
		You should now be able to see diagnostics (try calling a nonexistent function).
		For other actions, right click and use the "LSP" menu.
		If there seems to be an issue, debug with the "LSP: Toggle Log Panel" command.
	</p>
</main>
