<section>
	<p>In this section, we'll run this "hello world" program using different methods.</p>

	<crow-runnable name="hello.crow">
		main nat^(_ string[])
			info log "Hello, world!"
			()
	</crow-runnable>

	<aside>
		<h4>Looking ahead</h4>
		<p>
			A basic "Hello world" program still showcases some things that won't be explained until later.
			A brief explanation of each feature here:
			<ul class="bullets">
				<li>
					<code class="fun">main</code> is a function declaration.
					These are explained in the next section, {{tutorial/functions}}.
				</li>
				<li>
					<code class="struct">nat^</code> is a future type.
					These are explained in {{tutorial/futures}}.
				</li>
				<li>
					<code class="keyword">_</code> means that the parameter to <code class="fun">main</code> is unused.
					This is explained in {{tutorial/local-variables}}.
				</li>
				<li>
					<code class="struct">string[]</code> is a list type.
					These are explained in {{tutorial/collections}}.
				</li>
				<li>
					<code>info log "hello, world"</code> is a function call.
					This is also explained in {{tutorial/functions}}.
				</li>
				<li>
					<code class="keyword">()</code> is a future that makes the program return 0 (indicating no error).
				</li>
			</ul>
		</p>
	</aside>

	<h2>Run in the browser</h3>
	<p>
		Click the <code>â–¶</code> button at the bottom of the code block above to run it in the browser.
		<br />
		The code is editable, so you can test things out there while reading the tutorial. 
		<br />
		This supports all crow standard library functions, but it can't do I/O except for printing.
		<br />
		The browser runner is admittedly slow. It's much faster on the command line.
	</p>

	<h2>Download and run</h3>
	<p>
		Code blocks can be downloaded using the <code>â‡“</code> button.
		Alternatively, use the <code>ðŸ“‹</code> button to copy the code and paste it into a file.
	</p>

	<h3>Run with the interpreter</h3>
	<p>
		For the next step, you must <a href='download.html'>download</a> and install crow.
		<br />
		Open a terminal and navigate to the directory containing <code>hello.crow</code>.
		<br />
		Then, run <code>crow run hello.crow</code>. (This can be shortened to <code>crow run hello</code>.)
	</p>
	<p>
		The interpreter should be your default option for running code in development,
		since it quickly starts running code.
		If you need to do a lot of computation, there are options to make that faster at the cost of slower startup.
	</p>

	<h3>Run with JIT</h4>
	<p>This feature is only available on Linux. It's completely optional, so just skip this section if not on Linux.</p>
	<p>
		Run <code>crow run hello.crow --jit</code> to run using the just-in-time compiler.
		<br />
		That will make the program run faster once started, but it will take longer to start.
		<br />
		Use this if it's clear that the interpreter's performance isn't good enough.
		Like interpreting, this option should be used in development to quickly test code changes.
	</p>

	<h3>Build an executable</h4>
	<p>
		Run <code>crow build hello.crow</code> to generate a standalone executable.
		The executable will be called <code>hello</code>, or <code>hello.exe</code> on Windows.
		<br />
		Fully compiled code runs faster than JITted code.
		<code>crow build hello.crow --optimize</code> is the fastest option.
	</p>
	<p>
		"Standalone" means that it can run on a computer that doesn't have <code>crow</code> installed.
		That makes it a good option for deploying code to a server or distributing to users.
	</p>

	<h3>Compile to C</h3>
	<p>
		Run <code>crow build hello.crow --out hello.c</code> to "transpile" to a C program.
		<br />
		The C code is pretty ugly, but it can be useful if you want to use a C debugger to debug crow code.
	</p>

	<h3>Just print errors</h3>
	<p>
		Run <code>crow build hello.crow --no-out</code>
		to just print compile errors without building or running the code.
	</p>

	<h3>A note on compile errors</h3>
	<p>
		<code>crow run hello.crow</code> (even with <code>--jit</code>)
		will usually try to run code even if there were compile errors.
		<br />
		If the compile error is reached, it throws an exception.
	</p>
	<p>
		Try running the below code (through any method except <code>crow build</code>).
		<br />
		It will run the program normally up until the compile error, then throw an exception.
	</p>

	<crow-runnable>
		main nat^(_ string[])
			info log "hello, world"
			call-a-function-that-does-not-exist
			info log "goodbye, world"
			()
	</crow-runnable>
</section>
