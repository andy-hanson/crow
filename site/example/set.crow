import
	col.arr-util: flatten
	col.mut-set: ~=, move-to-set!, mut-set, remove!, subscript
	col.set: -, ~, arr, intersect, set, size, subscript
	io.print: print

main fut nat(_ arr str) summon
	chili = set: ["beans", "pepper", "onion", "beans"]
	print: "size: {chili size}"
	print: "has pepper? {chili["pepper"]}"
	print: "has potato? {chili["potato"]}"

	pepper-spray = set: ["pepper", "onion", "spray bottle"]
	print: "union: {(chili ~ pepper-spray).arr flatten ", "}"
	print: "intersection: {(chili intersect pepper-spray).arr flatten ", "}"
	print: "difference: {(chili - pepper-spray).arr flatten ", "}"

	m = mut-set: ["beans", "pepper", "onion"]
	print: "has pepper? {m["pepper"]}"
	print: "remove pepper? {m remove! "pepper"}"
	print: "remove pepper again? {m remove! "pepper"}"
	m ~= ["spray bottle", "cumin"]
	print: "after concat: {m.move-to-set!.arr flatten ", "}"

	0 resolved
