import
	crow/io/print
	crow/perf

main nat^(_ string[]) summon
	xs nat[], perf perf-result = with : ("is-prime"::symbol,) measure-performance
		() join for x : 2 .. 1000
			with : "is-prime" perf-measure
				x.is-prime ? (x,) : ()
	out print (" " join for x : xs; "{x}")
	out print "{perf}"
	()

is-prime bool(a nat)
	!(2 .. a exists x => a is-multiple-of x)
