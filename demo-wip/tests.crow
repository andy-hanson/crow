import
	col.arr-util: each
	io.print: print
	logging: info, log

main fut nat(_ arr str) summon
	run-all-tests
	0 resolved

all-tests arr fun-ptr1<void, ctx>() builtin

run-all-tests void() summon trusted
	tests = all-tests
	print: "Running " + tests.size.to-str + " tests"
	tests each \test
		test[get-ctx]
	print: "done"

test
	assert: 1 + 1 == 2
	info log "I am a test!"
